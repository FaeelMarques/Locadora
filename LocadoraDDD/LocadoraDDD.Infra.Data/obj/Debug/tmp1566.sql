IF object_id(N'[dbo].[FK_dbo.Filme_dbo.Locacao_Locacao_Id]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Filme] DROP CONSTRAINT [FK_dbo.Filme_dbo.Locacao_Locacao_Id]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Locacao_Id' AND object_id = object_id(N'[dbo].[Filme]', N'U'))
    DROP INDEX [IX_Locacao_Id] ON [dbo].[Filme]
CREATE TABLE [dbo].[LocacaoFilmes] (
    [Id] [int] NOT NULL IDENTITY,
    [FilmeId] [int] NOT NULL,
    [LocacaoId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.LocacaoFilmes] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_FilmeId] ON [dbo].[LocacaoFilmes]([FilmeId])
CREATE INDEX [IX_LocacaoId] ON [dbo].[LocacaoFilmes]([LocacaoId])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Filme')
AND col_name(parent_object_id, parent_column_id) = 'Locacao_Id';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Filme] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[Filme] DROP COLUMN [Locacao_Id]
ALTER TABLE [dbo].[LocacaoFilmes] ADD CONSTRAINT [FK_dbo.LocacaoFilmes_dbo.Filme_FilmeId] FOREIGN KEY ([FilmeId]) REFERENCES [dbo].[Filme] ([Id])
ALTER TABLE [dbo].[LocacaoFilmes] ADD CONSTRAINT [FK_dbo.LocacaoFilmes_dbo.Locacao_LocacaoId] FOREIGN KEY ([LocacaoId]) REFERENCES [dbo].[Locacao] ([Id])
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202009090257289_AutomaticMigration', N'LocadoraDDD.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5D5B6FDCB8157E2FD0FF20E8A92DBC33BE34416ACCECC23B8E5BA3B113649C45DF0C5AE28C85E8322B515E1B457F591FFA93FA174A4AD4855751D719A7C102814722BF431E7E873C3C14CFFEF7DFFF59FCF41CF8D6138C132F0A97F6C9ECD8B660E844AE176E97768A363FBCB37FFAF1F7BF5BBC778367EB97A2DC1929876B86C9D27E4468773E9F27CE230C40320B3C278E926883664E14CC811BCD4F8F8FFF323F3999430C61632CCB5A7C4E43E40530FB817FAEA2D0813B9402FF2672A19FD0E7F8CD3A43B56E4100931D70E0D2FE1039183406979797B3EB701383D92540608621107C46B675E17B00B76A0DFD8D6D81308C1040B8CDE75F12B84671146ED73BFC00F8772F3B88CB6D809F40DA97F3AAB869B78E4F49B7E655C502CA491314052D014FCEA89EE67CF54EDAB64B3D624DBEC71A472FA4D7993697F695E707B8E7BCA4F3951F9352ACA62F71112F9C65201E4C6659E5234B2C725492047389FC7764AD521FA5315C86304531F08FAC4FE983EF397F872F77D157182EC3D4F7EB4DC58DC5EF9807F8D1A738DAC118BD7C861BDA816BD7B6E66CBD395FB1AC56AB93F7EE3A4467A7B6758B8583071F964CA869628DA218FE1586300608BA9F0042300E0906CC742948E764DD4644BFB9344C3D6C51B675039E3FC0708B1E9736FED3B6AEBC67E8164F680BBE841E36405C09C5296C1242C8BF8A3DE080A890851FC13B8FC8163AA7C7CABA1A35AB488F7281BCA7B22D3F47910F41D80C720B9EBC6DA67669A36CEB33F4B3D7C9A3B7CBCD3B27E17D51E02A8E82CF915F309B3EBF5F4769EC907188242FEF40BC85C8BC3184EF58D31946226D1353E29EDA58D534C9EBB211450B65658A5ED41BBA985736ADB5F44243DD4C3DAFFDDDD6BF2D5BEF60A5C67CE3ACA41BED1890EFECD3CACA94D477DEA60A6F0DA39C2CE9E437CC24C94FE3BA89B4E56CAE6BE23DC765A1916C01D55CCE95EA359B97ADEE6557DF2D4A2B6BB5DBAC7C0F979D66562FC7B4EDACDEDF5369CB7085212AECA013C38B4122027434BF29373F17C9EE16A259513167FBCB558CE17E8BE2AFB33AE291655CAF3288535383383B79D89CBD7BF316B8676FFF0CCFDE4C6F1C12A29E9CBE33226ACB1583FCAB917AFAE6ED2052951CC75BFA58CEEDFA78DFD36215B1C5B702AB254506A134811A9ED605EAE1539BB454A4B7B428E950174B28444C6D0D457BC7956BCCB88BDD0E0F5E462DA2115377410CA9CD3824D673A8CABF1AEF61C209728A5D2176554697F11EBB87FE0053BD8114CCBA8D1707D06D1D42E2D03E8124C1339DFB37903C8EAEA03574D2181BE01A816037BAB44F8F51086FD3E081D8F574B2061B9ABBDFA22BE0600FFD7D486AF5C6C313D2D72845EF439778CE5F90233AD286008334E7C27160925C6132437715A521EAB7312793EEBE5DAD950FBC40EE6B71CBC37D51B4F2B7E425049F4B51ACFDAE7EEB85664D2D8AAA9B9A97686C2A2DD6B6A904CCACA5B4A4BAA15981C676E6A506F364B3111ADE95CD600FDF973DF418C6BE1CE16CF888D0F15D1F22E917E0A7438BEA640DD92430BC3564B0876F0D5933F1E327CF255E89C106AF288CE18DCACBF78ECD36C7B56C6A7360BA39B5F069E60095B95C2449E4789915D4CF048A235BB6E5D87BB374E7B7790FCA735FDC0BCC6A8FAC6F58F2D2FE93A00A056019A2AF008B035216F14440C45C8431B13A40B62909B6252F442271BDD0F176C0D708E7EA182E2F44D1253AFFE612EE6048A6048D124DC4561F0188C24B199C0536E96531AF31414F10D9D1906A58B5E744D5E872016E73DA680FEB1BE8381079344D9880431A059B482F8F25F7C924EE7CA361AC55871D029B9AC7BB095BC2A4964CEDC3287947A7E3945C1926F26BE7D47BE195E46C4135F0BA83866AD4D9E32E735A69CE2824E8D5C9C328B4527775024EA93561225C7ED030119B14D113D598378552AA7117E2FFE6C46A08C428C8458301A3B04BDFED0918A65789490394275FFB60190D7C9912808F828DC2322E86A66019DD644FC232B6DB7B6019AB9257C7B23C68693AFE5C0473148EB1F1CFE957496D9FF74030461F07C6AF3CA4400EA1710D181721BFFC505AF6F91B6E1B0DB525346AC1D38200AE21AA6F4FB09B5DC52ED80D9DC02AB67ABE5196D52FC2090D0099231BC144D90E6E3B6008A7066A84A0A70C427DD6436D00E14D490758995B0328FD86470012E686168D2B0EAAB4ADA35E4D0BD8E250490B4B97310EB666091C4DCB5B0EB522B25B10BC593604D5CA7E54D62058764318AD06515A041FA165FB65D067E907C262D71B8345C6E1A25A2F78B3D4284417206A546D77B5F09F6C2A15A38B7DB4887E489463A21645BCC358D51D1424FBEE4FD44ED30EDE740F5FEB099DE8344AD1ECD66B3892C9B3B7525407F4A2624C36A36DB6A3B58ED1C1D028A861D7A95052D199C1B5544CE3CD5A926DA6DA6CA77A6989DB3529B4547466702D518E362B49B21768B11BE8A522D6E91FC8D88A23AFD23F2DDF2DE6F9A565FA603157DC6E5EDC80DDCE0BB7B5DBCEF489B5CEAF3AAF7E58B7BFF71BE4187387D136EF4D97925014832DE4DE1237DB85575E9C20F265E70320077E2B379014A3DEB8C23D2AC4300EB7387285A35414277F572B9EE6D354E9925F29F20AF72D20BB9FEC4B0A7E4516EB59E4C239F0412CF96A6315F96910AA7761EADAF957A0F5FAF9137304E6E25F1D8879618E579DF1D5C1D4277F6A247A8DB00E431F89188B39372CC21E526002678D3CAF8C585778A503D24EEE6C1BF04E55F1FF8578AF802E9C4F3A206BB4CEB801791AEA8FC3A1F20CB70EA13CD855E3D44EEDEA489AC3BCBD336084B1EF3EEA538D77FDE2631DA5FEBCDDFC51069FF8F9431195DAE3C8AB9CD4CEC3CE04CEDA8FBDBEFA488B0610160D205F34F63448A2D73EC2809581C9EE83A68650A9BE08AED795AF0AB8AB518AE3EC3A8AEA887B6F83A88ABA741E383E10DC7EDC1A110ED549CB2E807173759BFAF472571D813E6A8951BB1F2480D5DE99A3B257B8EA98EC1B7344EE9E561D927BD5A295F5DB584C23EB2F3AE129342A2F612E41BC7F554717DFB672F3F89B589CBBC7BFEE802D6933FFAEC59644BCACC56C4FC4D7E6D8D5CD2D7E4A3FE0355519F41D6451CDCFD3FAADAA0A8C71E6E76116E5DA9D1866A6AE1EB7C4A2B75E0430FAFC2099A50C940FC2ACFC48B51FB31418EA1989B959C24E48DAEB306A4CE6BA0833E9EBAECBA8F1DAF1775496083173BE4829BD8C9D7331F2058D5737A7091502D87911DB2AD48817FC9704C12027D4FA573FDFDE56056E40E86D6082F22B52F6E9F1C929975DF470327DCE93C4F525F17E21DD273B58135C73F4884A1B2F32F6C8AB103E81D87904F11F02F0FCC73A52C78C7A2E6E221A227B66D673E123A5EBD085CF4BFB9F59A573EBFA1FF745BD23EB638C69776E1D5BFFEA97CEEFC14343651191DED4FA4E9B016933D6C8E9AEBDBCD601E4F21C9A5A18ADD6CBC084EC88A6C2CB8A2DC4B7CE05F86D0CAF9874AFB7957289F50CADB45BA6BAC907A1D08E78A1B74722B70AB489DCA4D3E4AFECF191759D7C09BD5F53FCE20E0F0EE1389FA064589DCBE3AB079A86CC5CAB78CAC8ABB2F345CF11669393B56A4D5EB5476B3AA72C7BC5063594A7514BEED50B8749E025ED2667A1DDF37535FB3022922C5757AFFE4AF371F54294E4DC1A0A6F1015AA726A75C152E6D392AD9F269D95E7D7EAD234656EADCC23E99959CB7C5E2C6AEE71ED9344415FADE777588BA590C0A8DF142E24296A01D72311510766BCB21C3E832DD792143D8361EF93DA03E7E529EE2075C89CC35D22EA92CEA7D3854BE5979AE3E4DBF9D632EC180E9641F293E28ACFC4D94ECC4765C85439DF6A769C8112E1EC890BEA6F300F800DAF34ABCDA0896CAADBC0FBCD5F3365CA1ACD8786DF54A69AA1323A48EE66EF3F1FCDD484517D4473E0F940DA659D198331F4DAFDFE73CB4CCD18D5C73107CE98561964C620CCBE96A33DD3C578453A807C30FC45557E58E9E748CC6730CA9C2FF957424BDB7D20CE6EBEB16E930E46930D4606DD26534CE51D0B22B8F732491D72C900596FCA371A218DF0ACA328C8605FCB04E529B0E577B655C22A8B550AAC8AA885AA2F8BF382852948902B94D08B6DD757EAFF683B4BCBE8C52A522CE864D395542B9B96D1CB56242E1833510E6BC8F56BBBE22C27444A6A95E4D3C681E4C2316CAE6EF75EABAB9F5C0E2FCF8DACF107D2F59133D848F35FC832703578448AEFA7A5B9BC0E39630DD3938664624DFB50854EE419C40E3941CD204A619600C587F6C32B65AC7C3483A86448D369917F46FC661E7BE16948CEF1F35F9730F1B615C4026386D061FCEFB2CC75B8898A6D00D7A2A208770076031170B1737E11236F031C845F9323FCEC7F44911D8B920F491EA07B1D7E4CD12E45B8CB3078F099F344B29DD0C9CF92ECB06D5E7CDC915FC9105DC0CDF4C8A70F1FC39F53CF77CB765F498EDC1410649F420FCCC958227270BE7D29916EA3D01088AAAFDC5EDDC160E763B0E463B8064FB04BDB30FD3EC02D705EAA03561548F340B06A5F5C7A601B8320A118557DFC1373D80D9E7FFC1F8952522E87860000 , N'6.1.0-30225')

